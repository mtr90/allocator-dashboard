flowchart TD
    START([ğŸ‘¤ User Opens Dashboard]) --> UPLOAD{ğŸ“ Upload CSV File}
    
    %% Upload Methods
    UPLOAD --> DRAG[ğŸ–±ï¸ Drag & Drop File]
    UPLOAD --> CLICK[ğŸ‘† Click Upload Area]
    
    DRAG --> VALIDATE[âœ… File Validation]
    CLICK --> VALIDATE
    
    %% Processing Flow
    VALIDATE --> |Valid CSV| PROCESS[âš¡ Processing Starts]
    VALIDATE --> |Invalid File| ERROR[âŒ Error Message]
    
    PROCESS --> PROGRESS[ğŸ“Š Progress Indicator<br/>0% â†’ 100%]
    PROGRESS --> GEOCODING[ğŸŒ Real-time Geocoding<br/>Census Bureau API]
    
    %% Geocoding Results
    GEOCODING --> MATCH_GOOD[âœ… Good Matches<br/>Coordinates Found]
    GEOCODING --> MATCH_FAIL[âŒ Failed Matches<br/>No Coordinates]
    GEOCODING --> MATCH_PO[ğŸ“® PO Box Detected<br/>Special Handling]
    
    %% Job Creation
    MATCH_GOOD --> JOB_CREATE[ğŸ“‹ New Job Created]
    MATCH_FAIL --> JOB_CREATE
    MATCH_PO --> JOB_CREATE
    
    JOB_CREATE --> SIDEBAR[ğŸ“Œ Job Appears in Sidebar<br/>Newest at Top]
    
    %% Report Viewing
    SIDEBAR --> VIEW_REPORTS{ğŸ“Š View Reports}
    
    VIEW_REPORTS --> JOB_SUMMARY[ğŸ“ˆ Job Summary<br/>Match Statistics]
    VIEW_REPORTS --> ALLOCATION_DETAIL[ğŸ“‹ Allocation Detail<br/>24 Columns with Scroll]
    VIEW_REPORTS --> ALLOCATION_SUMMARY[ğŸ“Š Allocation Summary<br/>County Breakdown]
    VIEW_REPORTS --> SOURCE_DATA[ğŸ“„ Source Data<br/>Original Addresses]
    VIEW_REPORTS --> MATCH_EXCEPTIONS[âš ï¸ Match Exceptions<br/>Failed Geocoding]
    
    %% User Actions
    JOB_SUMMARY --> ACTIONS{ğŸ–±ï¸ User Actions}
    ALLOCATION_DETAIL --> ACTIONS
    ALLOCATION_SUMMARY --> ACTIONS
    SOURCE_DATA --> ACTIONS
    MATCH_EXCEPTIONS --> ACTIONS
    
    ACTIONS --> RIGHT_CLICK[ğŸ–±ï¸ Right-Click Job]
    ACTIONS --> DOWNLOAD[ğŸ’¾ Download CSV]
    ACTIONS --> NEW_UPLOAD[ğŸ“ Upload New File]
    
    %% Context Menu
    RIGHT_CLICK --> CONTEXT_MENU[ğŸ“‹ Context Menu]
    CONTEXT_MENU --> DELETE_JOB[ğŸ—‘ï¸ Delete Job]
    CONTEXT_MENU --> DOWNLOAD_ALL[ğŸ’¾ Download All Reports]
    
    DELETE_JOB --> CONFIRM[â“ Confirm Deletion]
    CONFIRM --> |Yes| REMOVE[âœ… Job Removed]
    CONFIRM --> |No| SIDEBAR
    
    DOWNLOAD_ALL --> CSV_FILES[ğŸ“„ Multiple CSV Files]
    DOWNLOAD --> CSV_FILES
    
    %% Loop Back
    NEW_UPLOAD --> UPLOAD
    REMOVE --> SIDEBAR
    CSV_FILES --> SIDEBAR
    ERROR --> UPLOAD
    
    %% Data Processing Details
    subgraph "ğŸ”§ Backend Processing"
        PARSE_CSV[ğŸ“„ Parse CSV Data]
        EXTRACT_ADDR[ğŸ“ Extract Addresses]
        CALL_API[ğŸŒ Call Census API]
        ASSIGN_JURISDICTION[ğŸ—ºï¸ Assign Jurisdictions]
        GENERATE_REPORTS[ğŸ“‹ Generate Reports]
        
        PARSE_CSV --> EXTRACT_ADDR
        EXTRACT_ADDR --> CALL_API
        CALL_API --> ASSIGN_JURISDICTION
        ASSIGN_JURISDICTION --> GENERATE_REPORTS
    end
    
    GEOCODING -.-> PARSE_CSV
    GENERATE_REPORTS -.-> JOB_CREATE
    
    %% Key Features Callouts
    subgraph "âœ¨ Key Features"
        FEATURE1[ğŸ¯ Real Census Bureau Geocoding]
        FEATURE2[ğŸ“Š Professional Dashboard UI]
        FEATURE3[ğŸ–±ï¸ Drag & Drop Interface]
        FEATURE4[ğŸ“‹ Multiple Report Types]
        FEATURE5[ğŸ—‘ï¸ Job Management]
        FEATURE6[ğŸ’¾ CSV Export]
        FEATURE7[âš¡ Up to 100 Records]
        FEATURE8[ğŸ”„ Real-time Processing]
    end
    
    %% Styling
    classDef startClass fill:#e8f5e8,stroke:#2e7d32,stroke-width:3px
    classDef processClass fill:#e3f2fd,stroke:#1565c0,stroke-width:2px
    classDef resultClass fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef actionClass fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    classDef errorClass fill:#ffebee,stroke:#c62828,stroke-width:2px
    classDef featureClass fill:#f1f8e9,stroke:#558b2f,stroke-width:2px
    
    class START startClass
    class PROCESS,PROGRESS,GEOCODING,JOB_CREATE processClass
    class JOB_SUMMARY,ALLOCATION_DETAIL,ALLOCATION_SUMMARY,SOURCE_DATA,MATCH_EXCEPTIONS resultClass
    class ACTIONS,RIGHT_CLICK,DOWNLOAD,DELETE_JOB actionClass
    class ERROR errorClass
    class FEATURE1,FEATURE2,FEATURE3,FEATURE4,FEATURE5,FEATURE6,FEATURE7,FEATURE8 featureClass
